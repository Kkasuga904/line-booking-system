<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ã‚µã‚¤ãƒ‰ãƒãƒ¼æœ€çµ‚åæŸãƒ‘ãƒƒãƒ - å®Œå…¨ç‰ˆ</title>
</head>
<body>
<h1>ã‚µã‚¤ãƒ‰ãƒãƒ¼æœ€çµ‚åæŸãƒ‘ãƒƒãƒ - æ—§ãƒ¡ãƒ‹ãƒ¥ãƒ¼å®Œå…¨æ’é™¤ç‰ˆ</h1>
<p>ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’é †ç•ªã« admin-full-featured.html ã«é©ç”¨ã—ã¦ãã ã•ã„ã€‚</p>

<hr>

<!-- ==================== BLOCK A: Stray Menu å³åº§ç„¡åŠ¹åŒ– ==================== -->
<h2>A. Stray Menuå³åº§ç„¡åŠ¹åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆãƒšãƒ¼ã‚¸æœ€ä¸Šéƒ¨ã€&lt;head&gt;ç›´å¾Œã«é…ç½®ï¼‰</h2>
<pre><code>&lt;script id="stray-menu-guard-early"&gt;
// æ—§ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã®å³åº§ç„¡åŠ¹åŒ–ï¼ˆæœ€é€Ÿå®Ÿè¡Œï¼‰
(function() {
    'use strict';
    
    // æ—§ãƒ¡ãƒ‹ãƒ¥ãƒ¼é–¢æ•°ã‚’å³åº§ã«ç„¡åŠ¹åŒ–
    window.renderSidebarMenu = function() { 
        console.warn('[StrayGuard] renderSidebarMenu blocked'); 
        return null; 
    };
    window.createMenuElement = function() { 
        console.warn('[StrayGuard] createMenuElement blocked'); 
        return null; 
    };
    window.initializeSidebar = function() { 
        console.warn('[StrayGuard] initializeSidebar blocked'); 
        return null; 
    };
    
    // DOMContentLoadedã‚ˆã‚Šå‰ã«å®Ÿè¡Œã•ã‚Œã‚‹ç›£è¦–
    const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
            mutation.addedNodes.forEach(function(node) {
                if (node.nodeType === 1) { // Element node
                    // æ—§ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¦ç´ ã‚’å³åº§ã«å‰Šé™¤
                    if (node.classList && (
                        node.classList.contains('old-sidebar') ||
                        node.classList.contains('sidebar-menu') ||
                        node.classList.contains('menu-renderer')
                    )) {
                        console.warn('[StrayGuard] Removing stray menu element:', node.className);
                        node.remove();
                        return;
                    }
                    
                    // #sidebarä»¥å¤–ã®å ´æ‰€ã«ã‚ã‚‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼é¢¨è¦ç´ ã‚’éè¡¨ç¤º
                    if (node.id === 'sidebar' && !node.classList.contains('c-sidebar')) {
                        console.warn('[StrayGuard] Non-compliant sidebar detected, hiding');
                        node.style.display = 'none !important';
                        node.style.visibility = 'hidden !important';
                    }
                }
            });
        });
    });
    
    // bodyè¦ç´ ãŒåˆ©ç”¨å¯èƒ½ã«ãªã£ãŸã‚‰ç›£è¦–é–‹å§‹
    if (document.body) {
        observer.observe(document.body, { childList: true, subtree: true });
    } else {
        document.addEventListener('DOMContentLoaded', function() {
            observer.observe(document.body, { childList: true, subtree: true });
        });
    }
})();
&lt;/script&gt;</code></pre>

<hr>

<!-- ==================== BLOCK B: å†ªç­‰åˆæœŸåŒ– + å†è©¦è¡Œ + ç›£è¦– ==================== -->
<h2>B. å†ªç­‰åˆæœŸåŒ– + å†è©¦è¡Œ + ç›£è¦–ã‚³ãƒ¼ãƒ‰ï¼ˆ&lt;/body&gt;ã‚¿ã‚°ã®ç›´å‰ï¼‰</h2>
<pre><code>&lt;script id="sidebar-final-convergence"&gt;
(function() {
    'use strict';
    
    const DEBUG = true; // æœ¬ç•ªã§ã¯ false ã«
    const log = DEBUG ? console.log.bind(console) : () => {};
    const warn = DEBUG ? console.warn.bind(console) : () => {};
    
    // åˆæœŸåŒ–æ¸ˆã¿ãƒ•ãƒ©ã‚°
    if (window.__sidebarFinalConverged) {
        log('[Convergence] Already initialized');
        return;
    }
    window.__sidebarFinalConverged = true;
    
    // ==================== Stray Menuå¾Œå‡¦ç† ====================
    function eliminateStrayMenus() {
        // æ—§ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¦ç´ ã‚’å®Œå…¨å‰Šé™¤
        const straySelectors = [
            '.sidebar:not(.c-sidebar)',
            '.sidebar-menu:not(.c-sidebar__menu)',
            '.menu-renderer',
            '.old-sidebar',
            '#sidebar:not(.c-sidebar)',
            '[data-menu-renderer]',
            '[data-sidebar-old]'
        ];
        
        straySelectors.forEach(selector => {
            document.querySelectorAll(selector).forEach(el => {
                warn('[Convergence] Eliminating stray menu:', el);
                el.remove();
            });
        });
        
        // æ—§ãƒ¡ãƒ‹ãƒ¥ãƒ¼é–¢æ•°ã®æœ€çµ‚ç„¡åŠ¹åŒ–
        const blockedFunctions = [
            'renderSidebarMenu',
            'createMenuElement',
            'initializeSidebar',
            'toggleOldSidebar',
            'showMenu',
            'hideMenu'
        ];
        
        blockedFunctions.forEach(fn => {
            if (window[fn] && typeof window[fn] === 'function') {
                window[fn] = function() {
                    warn(`[Convergence] Blocked call to ${fn}`);
                    return null;
                };
            }
        });
    }
    
    // ==================== DOMæ§‹é€ ã®ç¢ºå®Ÿãªå›ºå®šåŒ– ====================
    function ensureProperStructure(retryCount = 0) {
        const MAX_RETRIES = 5;
        
        log(`[Convergence] Ensuring structure (attempt ${retryCount + 1})`);
        
        // Stray menuã®å‰Šé™¤
        eliminateStrayMenus();
        
        // æ­£ã—ã„ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ç¢ºä¿
        let sidebar = document.getElementById('sidebar');
        let needsCreation = false;
        
        if (!sidebar) {
            needsCreation = true;
        } else if (!sidebar.classList.contains('c-sidebar')) {
            warn('[Convergence] Sidebar exists but missing c-sidebar class');
            sidebar.remove();
            needsCreation = true;
        } else if (sidebar.parentElement !== document.body) {
            warn('[Convergence] Sidebar not in body, moving');
            document.body.appendChild(sidebar);
        }
        
        if (needsCreation) {
            log('[Convergence] Creating new sidebar');
            sidebar = document.createElement('aside');
            sidebar.id = 'sidebar';
            sidebar.className = 'c-sidebar';
            sidebar.setAttribute('aria-hidden', 'true');
            sidebar.setAttribute('role', 'navigation');
            sidebar.innerHTML = `
                &lt;div class="c-sidebar__header"&gt;
                    &lt;h2 class="c-sidebar__title"&gt;ãƒ¡ãƒ‹ãƒ¥ãƒ¼&lt;/h2&gt;
                    &lt;button class="c-sidebar__close" aria-label="é–‰ã˜ã‚‹"&gt;Ã—&lt;/button&gt;
                &lt;/div&gt;
                &lt;div class="c-sidebar__content"&gt;
                    &lt;nav class="c-sidebar__nav"&gt;
                        &lt;div class="menu-section"&gt;
                            &lt;div class="menu-section-title"&gt;åˆ†æãƒ»ãƒ¬ãƒãƒ¼ãƒˆ&lt;/div&gt;
                            &lt;ul class="c-sidebar__menu"&gt;
                                &lt;li&gt;&lt;a href="#" data-action="dashboard"&gt;ğŸ“Š çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰&lt;/a&gt;&lt;/li&gt;
                                &lt;li&gt;&lt;a href="#" data-action="reports"&gt;ğŸ“ˆ å£²ä¸Šåˆ†æ&lt;/a&gt;&lt;/li&gt;
                                &lt;li&gt;&lt;a href="#" data-action="trends"&gt;ğŸ“‰ ç¨¼åƒç‡ãƒ¬ãƒãƒ¼ãƒˆ&lt;/a&gt;&lt;/li&gt;
                            &lt;/ul&gt;
                        &lt;/div&gt;
                        &lt;div class="menu-section"&gt;
                            &lt;div class="menu-section-title"&gt;é¡§å®¢ç®¡ç†&lt;/div&gt;
                            &lt;ul class="c-sidebar__menu"&gt;
                                &lt;li&gt;&lt;a href="#" data-action="customers"&gt;ğŸ‘¥ é¡§å®¢ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹&lt;/a&gt;&lt;/li&gt;
                                &lt;li&gt;&lt;a href="#" data-action="email"&gt;ğŸ“§ ãƒ¡ãƒ¼ãƒ«é…ä¿¡&lt;/a&gt;&lt;/li&gt;
                                &lt;li&gt;&lt;a href="#" data-action="points"&gt;ğŸ ãƒã‚¤ãƒ³ãƒˆãƒ»ã‚¯ãƒ¼ãƒãƒ³&lt;/a&gt;&lt;/li&gt;
                                &lt;li&gt;&lt;a href="#" data-action="reminders"&gt;ğŸ”” ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼è¨­å®š&lt;/a&gt;&lt;/li&gt;
                            &lt;/ul&gt;
                        &lt;/div&gt;
                        &lt;div class="menu-section"&gt;
                            &lt;div class="menu-section-title"&gt;ã‚¹ã‚¿ãƒƒãƒ•ç®¡ç†&lt;/div&gt;
                            &lt;ul class="c-sidebar__menu"&gt;
                                &lt;li&gt;&lt;a href="#" data-action="staff"&gt;ğŸ‘¤ ã‚¹ã‚¿ãƒƒãƒ•ç®¡ç†&lt;/a&gt;&lt;/li&gt;
                                &lt;li&gt;&lt;a href="#" data-action="shifts"&gt;ğŸ“… ã‚·ãƒ•ãƒˆç®¡ç†&lt;/a&gt;&lt;/li&gt;
                                &lt;li&gt;&lt;a href="#" data-action="permissions"&gt;ğŸ” æ¨©é™è¨­å®š&lt;/a&gt;&lt;/li&gt;
                            &lt;/ul&gt;
                        &lt;/div&gt;
                        &lt;div class="menu-section"&gt;
                            &lt;div class="menu-section-title"&gt;åº—èˆ—è¨­å®š&lt;/div&gt;
                            &lt;ul class="c-sidebar__menu"&gt;
                                &lt;li&gt;&lt;a href="#" data-action="store"&gt;ğŸª åº—èˆ—æƒ…å ±&lt;/a&gt;&lt;/li&gt;
                                &lt;li&gt;&lt;a href="#" data-action="hours"&gt;ğŸ• å–¶æ¥­æ™‚é–“&lt;/a&gt;&lt;/li&gt;
                                &lt;li&gt;&lt;a href="#" data-action="seats"&gt;ğŸ’º åº§å¸­ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ&lt;/a&gt;&lt;/li&gt;
                            &lt;/ul&gt;
                        &lt;/div&gt;
                    &lt;/nav&gt;
                &lt;/div&gt;
            `;
            document.body.appendChild(sidebar);
        }
        
        // ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã®ç¢ºä¿
        let overlay = document.getElementById('pageOverlay');
        if (!overlay || !overlay.classList.contains('c-overlay')) {
            if (overlay) overlay.remove();
            overlay = document.createElement('div');
            overlay.id = 'pageOverlay';
            overlay.className = 'c-overlay';
            overlay.setAttribute('aria-hidden', 'true');
            document.body.appendChild(overlay);
        }
        
        // ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒœã‚¿ãƒ³ã®ç¢ºä¿
        let hamburger = document.querySelector('.c-hamburger');
        if (!hamburger) {
            hamburger = document.createElement('button');
            hamburger.className = 'c-hamburger';
            hamburger.setAttribute('aria-label', 'ãƒ¡ãƒ‹ãƒ¥ãƒ¼');
            hamburger.setAttribute('aria-expanded', 'false');
            hamburger.innerHTML = `
                &lt;svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"&gt;
                    &lt;path d="M3 12h18M3 6h18M3 18h18"/&gt;
                &lt;/svg&gt;
            `;
            document.body.appendChild(hamburger);
        }
        
        // åˆæœŸçŠ¶æ…‹ã®å¼·åˆ¶è¨­å®š
        sidebar.classList.remove('is-open');
        overlay.classList.remove('is-visible');
        sidebar.setAttribute('aria-hidden', 'true');
        
        // æ¤œè¨¼
        const validation = {
            sidebarExists: !!document.getElementById('sidebar'),
            sidebarInBody: sidebar.parentElement === document.body,
            sidebarHasClass: sidebar.classList.contains('c-sidebar'),
            overlayExists: !!document.getElementById('pageOverlay'),
            hamburgerExists: !!document.querySelector('.c-hamburger')
        };
        
        const allValid = Object.values(validation).every(v => v);
        
        if (!allValid && retryCount < MAX_RETRIES) {
            warn('[Convergence] Validation failed, retrying...', validation);
            setTimeout(() => ensureProperStructure(retryCount + 1), 500);
            return null;
        } else if (!allValid) {
            console.error('[Convergence] Failed to ensure structure after max retries', validation);
            return null;
        }
        
        log('[Convergence] Structure validated successfully', validation);
        return { sidebar, overlay, hamburger };
    }
    
    // ==================== ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ ====================
    class FinalSidebarController {
        constructor(elements) {
            if (!elements) return;
            
            this.sidebar = elements.sidebar;
            this.overlay = elements.overlay;
            this.hamburger = elements.hamburger;
            this.closeButton = this.sidebar.querySelector('.c-sidebar__close');
            this.isOpen = false;
            
            this.init();
        }
        
        init() {
            // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¨­å®š
            this.hamburger.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                this.toggle();
            });
            
            if (this.closeButton) {
                this.closeButton.addEventListener('click', (e) => {
                    e.preventDefault();
                    this.close();
                });
            }
            
            this.overlay.addEventListener('click', () => this.close());
            
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && this.isOpen) this.close();
            });
            
            // ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒªãƒ³ã‚¯
            this.sidebar.querySelectorAll('[data-action]').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const action = link.dataset.action;
                    log('[Controller] Action:', action);
                    this.close();
                    // ã“ã“ã§ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
                    this.executeAction(action);
                });
            });
            
            log('[Controller] Initialized');
        }
        
        toggle() {
            if (this.isOpen) {
                this.close();
            } else {
                this.open();
            }
        }
        
        open() {
            if (this.isOpen) return;
            
            this.sidebar.classList.add('is-open');
            this.overlay.classList.add('is-visible');
            this.sidebar.setAttribute('aria-hidden', 'false');
            this.hamburger.setAttribute('aria-expanded', 'true');
            document.body.style.overflow = 'hidden';
            this.isOpen = true;
            
            log('[Controller] Opened');
        }
        
        close() {
            if (!this.isOpen) return;
            
            this.sidebar.classList.remove('is-open');
            this.overlay.classList.remove('is-visible');
            this.sidebar.setAttribute('aria-hidden', 'true');
            this.hamburger.setAttribute('aria-expanded', 'false');
            document.body.style.overflow = '';
            this.isOpen = false;
            
            log('[Controller] Closed');
        }
        
        executeAction(action) {
            // æ—¢å­˜ã®é–¢æ•°ã‚’å‘¼ã³å‡ºã—
            const actionMap = {
                'calendar': 'showCalendarView',
                'reservation-list': 'showReservationListView',
                'capacity-controls': 'showCapacityControlsView',
                'dashboard': 'showDashboard',
                'customers': 'showCustomers',
                'staff': 'showStaff',
                'store': 'showStoreSettings'
            };
            
            const fn = actionMap[action];
            if (fn && window[fn]) {
                window[fn]();
            }
        }
    }
    
    // ==================== åˆæœŸåŒ–å®Ÿè¡Œ ====================
    function initialize() {
        log('[Convergence] Starting initialization');
        
        // Stray menuã®å‰Šé™¤
        eliminateStrayMenus();
        
        // DOMæ§‹é€ ã®ç¢ºä¿ï¼ˆå†è©¦è¡Œä»˜ãï¼‰
        const elements = ensureProperStructure();
        
        if (elements) {
            // ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼åˆæœŸåŒ–
            const controller = new FinalSidebarController(elements);
            
            // ã‚°ãƒ­ãƒ¼ãƒãƒ«å…¬é–‹
            window.finalSidebarController = controller;
            window.toggleSidebar = () => controller.toggle();
            
            log('[Convergence] Initialization complete');
        }
    }
    
    // DOMContentLoadedã¾ãŸã¯å³åº§ã«å®Ÿè¡Œ
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initialize);
    } else {
        initialize();
    }
    
    // ==================== ç¶™ç¶šçš„ãªç›£è¦– ====================
    const bodyObserver = new MutationObserver((mutations) => {
        mutations.forEach(mutation => {
            if (mutation.type === 'childList') {
                mutation.addedNodes.forEach(node => {
                    if (node.nodeType === 1) {
                        // Stray menuã®å³åº§å‰Šé™¤
                        if (node.classList && (
                            node.classList.contains('old-sidebar') ||
                            node.classList.contains('sidebar-menu') ||
                            (node.id === 'sidebar' && !node.classList.contains('c-sidebar'))
                        )) {
                            warn('[Observer] Removing stray menu:', node);
                            node.remove();
                        }
                    }
                });
                
                // ã‚µã‚¤ãƒ‰ãƒãƒ¼ãŒå‰Šé™¤ã•ã‚ŒãŸå ´åˆã¯å†åˆæœŸåŒ–
                mutation.removedNodes.forEach(node => {
                    if (node.id === 'sidebar' || node.id === 'pageOverlay') {
                        warn('[Observer] Critical element removed, reinitializing');
                        setTimeout(initialize, 100);
                    }
                });
            }
        });
    });
    
    bodyObserver.observe(document.body, {
        childList: true,
        subtree: true
    });
    
})();
&lt;/script&gt;</code></pre>

<hr>

<!-- ==================== BLOCK C: æœ€çµ‚ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰CSS ==================== -->
<h2>C. æœ€çµ‚ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰CSSï¼ˆ&lt;/body&gt;ã‚¿ã‚°ã®ç›´å‰ã€å…¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å¾Œï¼‰</h2>
<pre><code>&lt;style id="final-override-css"&gt;
/* æœ€çµ‚ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ - å…¨CSSã®å¾Œã«é©ç”¨ */
@layer final-override {
    /* Stray menuã®å®Œå…¨éè¡¨ç¤º */
    .old-sidebar,
    .sidebar-menu:not(.c-sidebar__menu),
    .menu-renderer,
    #sidebar:not(.c-sidebar),
    [data-menu-renderer],
    [data-sidebar-old] {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        pointer-events: none !important;
        position: absolute !important;
        left: -9999px !important;
        top: -9999px !important;
    }
    
    /* æ­£ã—ã„ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®æœ€çµ‚ã‚¹ã‚¿ã‚¤ãƒ« */
    #sidebar.c-sidebar {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        width: 300px !important;
        height: 100vh !important;
        background: #ffffff !important;
        box-shadow: 2px 0 12px rgba(0,0,0,0.15) !important;
        z-index: 999999 !important;
        
        /* å¸¸ã«blockè¡¨ç¤º */
        display: block !important;
        
        /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼šéè¡¨ç¤ºï¼ˆtransformã§åˆ¶å¾¡ï¼‰ */
        transform: translateX(-100%) !important;
        opacity: 0 !important;
        visibility: hidden !important;
        pointer-events: none !important;
        
        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                    opacity 0.3s ease,
                    visibility 0.3s ease !important;
        
        /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« */
        overflow-y: auto !important;
        overflow-x: hidden !important;
        scrollbar-width: thin;
        scrollbar-color: #d0d0d0 transparent;
    }
    
    /* é–‹ã„ãŸçŠ¶æ…‹ */
    #sidebar.c-sidebar.is-open {
        transform: translateX(0) !important;
        opacity: 1 !important;
        visibility: visible !important;
        pointer-events: auto !important;
    }
    
    /* ã‚µã‚¤ãƒ‰ãƒãƒ¼å†…éƒ¨ã‚¹ã‚¿ã‚¤ãƒ« */
    #sidebar.c-sidebar .c-sidebar__header {
        padding: 20px !important;
        border-bottom: 1px solid #e0e0e0 !important;
        background: #f8f9fa !important;
        display: flex !important;
        align-items: center !important;
        justify-content: space-between !important;
    }
    
    #sidebar.c-sidebar .c-sidebar__title {
        font-size: 18px !important;
        font-weight: 600 !important;
        margin: 0 !important;
    }
    
    #sidebar.c-sidebar .c-sidebar__close {
        background: none !important;
        border: none !important;
        font-size: 24px !important;
        cursor: pointer !important;
        padding: 4px 8px !important;
        color: #666 !important;
    }
    
    #sidebar.c-sidebar .c-sidebar__content {
        padding: 20px !important;
    }
    
    #sidebar.c-sidebar .menu-section {
        margin-bottom: 24px !important;
    }
    
    #sidebar.c-sidebar .menu-section-title {
        font-size: 12px !important;
        font-weight: 600 !important;
        color: #6c757d !important;
        text-transform: uppercase !important;
        letter-spacing: 0.5px !important;
        margin-bottom: 8px !important;
        padding: 0 12px !important;
    }
    
    #sidebar.c-sidebar .c-sidebar__menu {
        list-style: none !important;
        padding: 0 !important;
        margin: 0 !important;
    }
    
    #sidebar.c-sidebar .c-sidebar__menu li {
        margin-bottom: 4px !important;
    }
    
    #sidebar.c-sidebar .c-sidebar__menu a {
        display: block !important;
        padding: 10px 12px !important;
        color: #333 !important;
        text-decoration: none !important;
        border-radius: 6px !important;
        transition: background 0.2s !important;
        font-size: 14px !important;
    }
    
    #sidebar.c-sidebar .c-sidebar__menu a:hover {
        background: #f0f0f0 !important;
    }
    
    /* ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
    #pageOverlay.c-overlay {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        background: rgba(0, 0, 0, 0.5) !important;
        backdrop-filter: blur(2px);
        -webkit-backdrop-filter: blur(2px);
        z-index: 999998 !important;
        display: block !important;
        opacity: 0 !important;
        visibility: hidden !important;
        pointer-events: none !important;
        transition: opacity 0.3s ease,
                    visibility 0.3s ease !important;
    }
    
    #pageOverlay.c-overlay.is-visible {
        opacity: 1 !important;
        visibility: visible !important;
        pointer-events: auto !important;
    }
    
    /* ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒœã‚¿ãƒ³ */
    .c-hamburger {
        position: fixed !important;
        top: 15px !important;
        left: 15px !important;
        width: 48px !important;
        height: 48px !important;
        background: #ffffff !important;
        border: none !important;
        border-radius: 8px !important;
        box-shadow: 0 2px 8px rgba(0,0,0,0.15) !important;
        cursor: pointer !important;
        z-index: 10001 !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        transition: all 0.3s ease !important;
    }
    
    .c-hamburger:hover {
        background: #f5f5f5 !important;
        box-shadow: 0 4px 12px rgba(0,0,0,0.2) !important;
        transform: scale(1.05) !important;
    }
    
    /* Webkit scrollbar */
    #sidebar.c-sidebar::-webkit-scrollbar {
        width: 6px !important;
    }
    
    #sidebar.c-sidebar::-webkit-scrollbar-track {
        background: transparent !important;
    }
    
    #sidebar.c-sidebar::-webkit-scrollbar-thumb {
        background: #d0d0d0 !important;
        border-radius: 3px !important;
    }
    
    /* ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ */
    @media (max-width: 768px) {
        #sidebar.c-sidebar {
            width: 85% !important;
            max-width: 300px !important;
        }
        
        .c-hamburger {
            top: 10px !important;
            left: 10px !important;
            width: 44px !important;
            height: 44px !important;
        }
    }
}

/* @layeræœªå¯¾å¿œãƒ–ãƒ©ã‚¦ã‚¶ç”¨ */
#sidebar.c-sidebar {
    display: block !important;
    left: 0 !important;
}

/* Stray menuå¼·åˆ¶éè¡¨ç¤ºï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰ */
.old-sidebar,
.sidebar-menu:not(.c-sidebar__menu),
#sidebar:not(.c-sidebar) {
    display: none !important;
}
&lt;/style&gt;</code></pre>

<hr>

<!-- ==================== ç¢ºèªæ‰‹é † ==================== -->
<h2>ç¢ºèªæ‰‹é †</h2>

<h3>1. ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã®ç¢ºèªã‚³ãƒãƒ³ãƒ‰ï¼ˆ3ã¤ï¼‰</h3>
<pre><code>// 1. DOMæ§‹é€ ã®ç¢ºèª
console.log({
    sidebar: document.getElementById('sidebar'),
    inBody: document.getElementById('sidebar')?.parentElement === document.body,
    hasClass: document.getElementById('sidebar')?.classList.contains('c-sidebar'),
    strayMenus: document.querySelectorAll('.sidebar:not(.c-sidebar), .old-sidebar, .menu-renderer').length
});

// 2. çŠ¶æ…‹ã®ç¢ºèª
console.log({
    isOpen: document.getElementById('sidebar')?.classList.contains('is-open'),
    computed: {
        display: getComputedStyle(document.getElementById('sidebar')).display,
        transform: getComputedStyle(document.getElementById('sidebar')).transform,
        opacity: getComputedStyle(document.getElementById('sidebar')).opacity,
        visibility: getComputedStyle(document.getElementById('sidebar')).visibility
    }
});

// 3. å‹•ä½œãƒ†ã‚¹ãƒˆ
window.finalSidebarController?.toggle();
setTimeout(() => window.finalSidebarController?.toggle(), 1000);</code></pre>

<h3>2. DevToolsã§ã®ç¢ºèª</h3>
<ol>
    <li><strong>Elements</strong>ã‚¿ãƒ–:
        <ul>
            <li>#sidebar ãŒ &lt;body&gt; ã®ç›´æ¥ã®å­è¦ç´ </li>
            <li>class ã« "c-sidebar" ãŒå«ã¾ã‚Œã‚‹</li>
            <li>ä»–ã« .sidebar ã‚„ .old-sidebar ãŒå­˜åœ¨ã—ãªã„</li>
        </ul>
    </li>
    <li><strong>Network</strong>ã‚¿ãƒ–:
        <ul>
            <li>/api/sidebar-menu ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒ 410 Gone ã‚’è¿”ã™</li>
            <li>/js/sidebar-menu.js ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒ 410 Gone ã‚’è¿”ã™</li>
        </ul>
    </li>
    <li><strong>Console</strong>ã‚¿ãƒ–:
        <ul>
            <li>[StrayGuard] ã®ãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã‚‹</li>
            <li>[Convergence] ã®ãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã‚‹</li>
            <li>ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ãªã„</li>
        </ul>
    </li>
</ol>

<h3>3. å‹•ä½œç¢ºèª</h3>
<ul>
    <li>ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ â†’ ã‚µã‚¤ãƒ‰ãƒãƒ¼ãŒé–‹ã</li>
    <li>Ã—ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ â†’ ã‚µã‚¤ãƒ‰ãƒãƒ¼ãŒé–‰ã˜ã‚‹</li>
    <li>ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚¯ãƒªãƒƒã‚¯ â†’ ã‚µã‚¤ãƒ‰ãƒãƒ¼ãŒé–‰ã˜ã‚‹</li>
    <li>ESCã‚­ãƒ¼ â†’ ã‚µã‚¤ãƒ‰ãƒãƒ¼ãŒé–‰ã˜ã‚‹</li>
    <li>10å›é€£æ‰“ â†’ çŠ¶æ…‹ãŒå´©ã‚Œãªã„</li>
    <li>ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰ â†’ åˆæœŸçŠ¶æ…‹ã§éè¡¨ç¤º</li>
</ul>

</body>
</html>